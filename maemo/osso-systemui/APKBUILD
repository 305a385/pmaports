# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Nikita Ukhrenkov <thekit@disroot.org>
pkgname=osso-systemui
pkgver=0.2.0.19
pkgrel=0
pkgdesc="OSSO systemui"
url="https://github.com/maemo-leste/osso-systemui"
arch="all !armhf !armv7"
license="LGPL-2.1-only"
depends_dev="gtk+3.0-dev libcanberra-dev gconf-dev libosso-dev mce-headers osso-systemui-dbus-headers"
makedepends="$depends_dev autoconf automake libtool"
source="$pkgname-$pkgver.tar.gz::https://github.com/maemo-leste/osso-systemui/archive/$pkgver.tar.gz
	osso-systemui-musl-fix.patch"
subpackages="$pkgname-dev"
options="!check"

prepare() {
	default_prepare

	sh autogen.sh
}

build() {
	./configure --prefix=/usr
	make
}

package() {
	DESTDIR="$pkgdir" make install
}

sha512sums="92aac73458446bfccd907f15388ec1e0d4c122b1e70d458933ca6c0739582497bc64480eec5ee9e4928627fd360854977ed9a35746f16e9c107c1a96d5e583ec  osso-systemui-0.2.0.19.tar.gz
1cf4a84f44b23c51209a401a6fcddce1d1f8c19df036814ef6750552d44bebbf23a6226aeae693fb4750cfd71f9ae7aa3e44d283d97df1220569c30afab44be6  osso-systemui-musl-fix.patch"
